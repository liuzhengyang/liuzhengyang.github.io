(window.webpackJsonp=window.webpackJsonp||[]).push([[287],{718:function(n,t,o){"use strict";o.r(t);var r=o(34),e=Object(r.a)({},(function(){var n=this,t=n.$createElement,o=n._self._c||t;return o("ContentSlotsDistributor",{attrs:{"slot-key":n.$parent.slotKey}},[o("h1",{attrs:{id:"innodb-mvcc"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#innodb-mvcc"}},[n._v("#")]),n._v(" innodb mvcc")]),n._v(" "),o("p",[n._v("MVCC是Multi Version Concurrency Control的缩写，通过MVCC，innodb能够\n提供事务之间更高的并发能力。")]),n._v(" "),o("p",[n._v("在MVCC中，每个事务看到的是数据库的一个快照，而不是当前最新的数据。\n默认读不会加锁，即使其他事务中该事务运行期间修改了数据，也不会影响该事务的读取结果。")]),n._v(" "),o("p",[o("strong",[n._v("实现")])]),n._v(" "),o("p",[n._v("在innodb中，每个数据行都包含一些隐藏的列")]),n._v(" "),o("ol",[o("li",[n._v("DB_TRX_ID，记录了最后一次对改行进行修改的事务ID、用于确定该行的当前版本是由那个事务生成的")]),n._v(" "),o("li",[n._v("DB_ROLL_PTR，指向该行的undo log记录，通过undo log行程了版本链，不同的事务根据自己的隔离级别找到符合要求的数据")])])])}),[],!1,null,null,null);t.default=e.exports}}]);